import{u as v,a as b,r as y,b as g,d as w,e as k,c as n,f as e,w as C,v as S,F as c,g as m,h as E,o as i,t as l,i as _}from"./index-bBGUjAsK.js";import{g as h}from"./firebase-TgT6_eK_.js";import"https://www.gstatic.com/firebasejs/9.6.2/firebase-app.js";import"https://www.gstatic.com/firebasejs/9.6.2/firebase-firestore.js";import"https://www.gstatic.com/firebasejs/9.6.2/firebase-auth.js";const N=e("div",{class:"flex items-center justify-between bg-white p-4"},[e("h1",{class:"text-4xl font-bold text-gray-600"}," SPACE MANAGER ")],-1),V={class:"flex items-start justify-start bg-white p-4"},B=e("option",{value:"all"},"Todos",-1),j=["value"],A={class:"flex justify-center items-center flex-wrap"},D={key:0,class:"p-4 m-4 flex-shrink-0"},M=e("div",{class:"px-6 py-4"},[e("div",{class:"font-bold text-xl mb-2 text-gray-700"},"No se han encontrado dispositivos en este espacio")],-1),R=[M],$={class:"max-w-xs rounded overflow-hidden shadow-lg bg-white"},F={class:"px-6 py-4"},G={class:"font-bold text-xl mb-2"},L={class:"px-6 py-4"},P={class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2"},T={class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700"},U={class:"px-6 py-4"},q={class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700"},z={class:"px-6 py-4"},H=["onClick"],X={__name:"spaceView",setup(I){const{params:{id:r}}=v(),f=b(),a=y({devices:[],names:[]}),d=g("all"),x=o=>{const t=a.names.find(s=>s.id===o);return t?t.name:"No se ha encontrado el nombre"};w(async()=>{await h("spaces",r,"devices",o=>{o.forEach(t=>a.devices.push({id:t.id,...t.data()}))}),await h("spaces",r,"names",o=>{a.names.splice(0,a.names.length),o.forEach(t=>a.names.push({id:t.id,...t.data()}))})});const p=k(()=>d.value==="all"?a.devices:a.devices.filter(o=>o.idSpace===d.value));return(o,t)=>(i(),n(c,null,[N,e("div",V,[C(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),class:"p-2 rounded border-gray-300 border"},[B,(i(!0),n(c,null,m(a.names,s=>(i(),n("option",{key:s.id,value:s.id,onClick:t[0]||(t[0]=(...u)=>o.updateCollection&&o.updateCollection(...u))},"Espacio : "+l(s.name),9,j))),128))],512),[[S,d.value]])]),e("div",A,[p.value.length===0?(i(),n("div",D,R)):E("",!0),(i(!0),n(c,null,m(p.value,s=>(i(),n("div",{key:s.id,class:"p-4 m-4 flex-shrink-0"},[e("div",$,[e("div",F,[e("div",G,l(s.name),1)]),e("div",L,[e("span",P,"#"+l(s.id),1),e("span",T,"#"+l(s.type),1)]),e("div",U,[e("span",q," Este espacio pertenece a: "+l(x(s.idSpace)),1)]),e("div",z,[e("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:u=>_(f).push(`/${_(r)}/${s.id}`)}," Ver dispositivo ",8,H)])])]))),128))])],64))}};export{X as default};
